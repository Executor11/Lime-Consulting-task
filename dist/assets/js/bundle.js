/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/assets/scripts/wheel/Wheel.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var i=n("./src/assets/scripts/wheel/WheelConfig.js"),s=n("./src/assets/scripts/wheel/WheelSprite.js");function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=new i.default,this.sprite=new s.default,this.angle=0,this.running=!1}var t,n;return t=e,(n=[{key:"start",value:function(e,t){var n=this,i=-.3-2*(.5+e)*Math.PI/this.config.sections.length,s=this.angle-2*Math.floor(this.angle/(2*Math.PI))*Math.PI-10*Math.PI,r=performance.now();requestAnimationFrame((function e(){var o=performance.now(),a=Math.min(1,(o-r)/t);a=3*a*a-2*a*a*a,n.angle=s+a*(i-s),n.sprite.render(n.angle),a<1?requestAnimationFrame(e):n.running=!1})),this.running=!0}}])&&r(t.prototype,n),e}()},"./src/assets/scripts/wheel/WheelConfig.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var i=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.querySelector(".canvas"),this.innerWidth=500,this.innerHeight=500,this.duration=3e3,this.sections=["1","2","3","4","5","6"],this.colors=["rgba(13, 31, 241, 1)","rgba(13, 255, 203, 1)","rgba(0, 255, 29, 1)","rgba(241, 255, 0, 1)","rgba(242, 6, 6, 1) ","#FF00B1"],this.font_size=1.5,this.wheels=[],this.radius=Math.min(this.innerWidth,this.innerHeight)/2.25|0}},"./src/assets/scripts/wheel/WheelSprite.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n("./src/assets/scripts/wheel/WheelConfig.js");function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=new i.default}var t,n;return t=e,(n=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.config.wheels.length)for(var t=0;t<this.config.sections.length;t++){var n=document.createElement("canvas");n.width=n.height=2*this.config.radius+10;var i=n.getContext("2d"),s=5+this.config.radius,r=5+this.config.radius,o=i.createRadialGradient(s,r,0,s,r,this.config.radius);o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,0.1)");for(var a=0;a<this.config.sections.length;a++){var c=2*Math.PI*a/this.config.sections.length,h=c+2*Math.PI/(0==a?1:this.config.sections.length),l=2*Math.PI*(a+.5)/this.config.sections.length;i.beginPath(),i.moveTo(s,r),i.arc(s,r,this.config.radius,c,h),i.fillStyle=this.config.colors[a%this.config.colors.length],i.fill(),i.fillStyle=o,i.fill(),i.save(),a==t?(i.fillStyle="#FFF",i.shadowColor="#FFF",i.shadowBlur=this.config.radius/20):(i.fillStyle="#AAA",i.shadowColor="#000",i.shadowBlur=this.config.radius/100),i.font="bold "+this.config.radius/this.config.sections.length*this.config.font_size+"px sans-serif",i.textAlign="center",i.textBaseline="middle",i.translate(s,r),i.rotate(l),i.fillText(this.config.sections[a],.62*this.config.radius,0),i.restore()}this.config.wheels.push(n)}this.config.canvas.width=this.config.innerWidth,this.config.canvas.height=this.config.innerHeight;var f=this.config.innerWidth/2,u=this.config.innerHeight/2,d=this.config.canvas.getContext("2d"),g=Math.floor((-.2-e)*this.config.sections.length/(2*Math.PI))%this.config.sections.length;g<0&&(g+=this.config.sections.length),d.save(),d.translate(f,u),d.rotate(e),d.translate(-this.config.wheels[g].width/2,-this.config.wheels[g].height/2),d.drawImage(this.config.wheels[g],0,0),d.restore()}}])&&s(t.prototype,n),e}()}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{n.r(i);var e=n("./src/assets/scripts/wheel/Wheel.js"),t=n("./src/assets/scripts/wheel/WheelConfig.js"),s=n("./src/assets/scripts/wheel/WheelSprite.js"),r=new e.default,o=new t.default,a=new s.default;window.onload=function(){a.render();var e=document.querySelector(".button__spin"),t=document.querySelector(".button__respin"),n=document.querySelector(".popup"),i=document.querySelector(".popup__header_close"),s=document.querySelector(".popup__backdrop"),c=document.querySelector(".wheel-win-number"),h=function(){n.classList.add("popup__hidden"),s.classList.add("popup__hidden")},l=function(){if(!r.running){var e=Math.random()*o.sections.length|0;r.start(e,o.duration),t=e,setTimeout((function(){n.classList.remove("popup__hidden"),s.classList.remove("popup__hidden"),c.textContent=o.sections[t]}),o.duration)}var t};e.addEventListener("click",l),t.addEventListener("click",(function(){h(),l()})),i.addEventListener("click",h)}})()})();
//# sourceMappingURL=bundle.js.map