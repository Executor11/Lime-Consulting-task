/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/assets/scripts/wheel/Wheel.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var n=i("./src/assets/scripts/wheel/WheelConfig.js"),s=i("./src/assets/scripts/wheel/WheelSprite.js");function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=new n.default,this.sprite=new s.default,this.angle=0,this.running=!1}var t,i;return t=e,(i=[{key:"start",value:function(e,t){var i=this,n=-.3-2*(.5+e)*Math.PI/this.config.sections.length,s=this.angle-2*Math.floor(this.angle/(2*Math.PI))*Math.PI-10*Math.PI,o=performance.now();requestAnimationFrame((function e(){var r=performance.now(),a=Math.min(1,(r-o)/t);a=3*a*a-2*a*a*a,i.angle=s+a*(n-s),i.sprite.render(i.angle),a<1?requestAnimationFrame(e):i.running=!1})),this.running=!0}}])&&o(t.prototype,i),e}()},"./src/assets/scripts/wheel/WheelConfig.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var n=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.querySelector(".canvas"),this.innerWidth=500,this.innerHeight=500,this.duration=3e3,this.sections=["1","2","3","4","5","6"],this.colors=["rgba(13, 31, 241, 1)","rgba(13, 255, 203, 1)","rgba(0, 255, 29, 1)","rgba(241, 255, 0, 1)","rgba(242, 6, 6, 1) ","#FF00B1"],this.font_size=1.5,this.font_weight="bold",this.font_family="sans-serif",this.font_align="center",this.font_baseline="middle",this.font_color="#000000",this.font_shadow="#000",this.font_color_selected="#FFFFFF",this.font_shadow_selected="#FFF",this.wheels=[],this.radius=Math.min(this.innerWidth,this.innerHeight)/2.25|0}},"./src/assets/scripts/wheel/WheelSprite.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>o});var n=i("./src/assets/scripts/wheel/WheelConfig.js");function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=new n.default}var t,i;return t=e,(i=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.config.wheels.length)for(var t=0;t<this.config.sections.length;t++){var i=document.createElement("canvas");i.width=i.height=2*this.config.radius+10;var n=i.getContext("2d"),s=5+this.config.radius,o=5+this.config.radius,r=n.createRadialGradient(s,o,0,s,o,this.config.radius);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,0.1)");for(var a=0;a<this.config.sections.length;a++){var c=2*Math.PI*a/this.config.sections.length,h=c+2*Math.PI/(0==a?1:this.config.sections.length),l=2*Math.PI*(a+.5)/this.config.sections.length;n.beginPath(),n.moveTo(s,o),n.arc(s,o,this.config.radius,c,h),n.fillStyle=this.config.colors[a%this.config.colors.length],n.fill(),n.fillStyle=r,n.fill(),n.save(),a==t?(n.fillStyle=this.config.font_color_selected,n.shadowColor=this.config.font_shadow_selected,n.shadowBlur=this.config.radius/20):(n.fillStyle=this.config.font_color,n.shadowColor=this.config.font_shadow,n.shadowBlur=this.config.radius/100),n.font=this.config.font_weight+" "+this.config.radius/this.config.sections.length*this.config.font_size+"px "+this.config.font_family,n.textAlign=this.config.font_align,n.textBaseline=this.config.font_baseline,n.translate(s,o),n.rotate(l),n.fillText(this.config.sections[a],.62*this.config.radius,0),n.restore()}this.config.wheels.push(i)}this.config.canvas.width=this.config.innerWidth,this.config.canvas.height=this.config.innerHeight;var f=this.config.innerWidth/2,g=this.config.innerHeight/2,d=this.config.canvas.getContext("2d"),u=Math.floor((-.2-e)*this.config.sections.length/(2*Math.PI))%this.config.sections.length;u<0&&(u+=this.config.sections.length),d.save(),d.translate(f,g),d.rotate(e),d.translate(-this.config.wheels[u].width/2,-this.config.wheels[u].height/2),d.drawImage(this.config.wheels[u],0,0),d.restore()}}])&&s(t.prototype,i),e}()}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{i.r(n);var e=i("./src/assets/scripts/wheel/Wheel.js"),t=i("./src/assets/scripts/wheel/WheelConfig.js"),s=i("./src/assets/scripts/wheel/WheelSprite.js"),o=new e.default,r=new t.default,a=new s.default;window.onload=function(){a.render();var e=document.querySelector(".button__spin"),t=document.querySelector(".button__respin"),i=document.querySelector(".popup"),n=document.querySelector(".popup__header_close"),s=document.querySelector(".popup__backdrop"),c=document.querySelector(".wheel-win-number"),h=function(){i.classList.add("popup__hidden"),s.classList.add("popup__hidden")},l=function(){if(!o.running){var e=Math.random()*r.sections.length|0;o.start(e,r.duration),t=e,setTimeout((function(){i.classList.remove("popup__hidden"),s.classList.remove("popup__hidden"),c.textContent=r.sections[t]}),r.duration)}var t};e.addEventListener("click",l),t.addEventListener("click",(function(){h(),l()})),n.addEventListener("click",h)}})()})();
//# sourceMappingURL=bundle.js.map